<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<title>Dua Lipa – Radical Optimism</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="radical_optimism.jpg" type="image/x-icon">
<style>
* {box-sizing:border-box;margin:0;padding:0;}
body { font-family:'Arial',sans-serif; overflow-x:hidden; background: linear-gradient(to bottom,#40E0D0,#ffffff); color:white; transition:0.5s; }

/* HEADER */
header { text-align:center; padding:40px 20px; background:linear-gradient(120deg,#40E0D0,#ffffff); color:black; transition:0.5s; }
header h1 { font-size:3em; font-weight:bold; text-shadow:2px 2px 5px rgba(0,0,0,0.5);}
header p { max-width:900px; margin:20px auto; font-size:1.3em; line-height:1.6em; font-weight:bold; text-shadow:1px 1px 3px rgba(0,0,0,0.3);}

/* ALBUM COVER */
.album-cover { display:block; margin:30px auto; width:320px; border-radius:20px; box-shadow:0 0 50px rgba(0,0,0,0.7); }

/* TRACKLIST */
.tracklist { max-width:900px; margin:30px auto; padding:25px; background:rgba(0,0,0,0.4); border-radius:25px; box-shadow:0 0 30px rgba(0,0,0,0.4); }
.track { display:flex; justify-content:space-between; align-items:center; padding:15px 20px; border-bottom:1px solid rgba(255,255,255,0.2); cursor:pointer; transition:0.3s; font-size:1.2em; font-weight:bold; }
.track:hover { background: rgba(255,255,255,0.1); transform:scale(1.02); }

/* FULLSCREEN PLAYER */
#fullscreen-player {
  position:fixed; top:0; left:0; width:100%; height:100%;
  display:none; flex-direction:column; justify-content:flex-end; align-items:center;
  background:black; z-index:999; overflow:hidden; transition:0.5s;
}
.video-overlay { position:absolute; top:0; left:0; width:100%; height:100%; overflow:hidden; z-index:0; transition:opacity 0.5s; }
.video-overlay video { width:100%; height:100%; object-fit:cover; }

/* CLOSE BUTTON OVER VIDEO */
#close-fullscreen {
  position:absolute; top:10px; right:10px; z-index:1002;
  font-size:36px; cursor:pointer; color:#ff3333;
  background:rgba(0,0,0,0.4); padding:5px 10px; border-radius:5px; transition:0.3s;
}
#close-fullscreen:hover { background: #ff6666; }

/* INFO PANEL */
#fullscreen-info {
  width:100%; position:absolute; bottom:0;
  background:linear-gradient(to top,#40E0D0,#ffffff);
  color:black; display:flex; flex-direction:column; padding:50px;
  border-top-left-radius:15px; border-top-right-radius:15px; transition:all 0.5s ease;
}
#fullscreen-info.small{
  padding:8px 15px; height:80px; background:rgba(0,0,0,0.8); flex-direction:row; align-items:center; transition:all 0.5s ease;
}

/* INFO TOP */
.info-top{display:flex; justify-content:space-between; align-items:center; width:100%;}
#fullscreen-title{font-size:2.5em; font-weight:bold; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; transition:0.5s;}
#fullscreen-info.small #fullscreen-title{font-size:1.2em; color:white; max-width:50%;}

/* CONTROLS */
.controls{display:flex; gap:10px; align-items:center;}
.controls button{font-size:32px; width:50px; height:50px; border-radius:50%; background:#333; color:white; border:none; cursor:pointer; transition:0.3s;}
.controls button:hover{background:#40E0D0;}
#toggle-size{cursor:pointer; font-size:28px; margin-left:15px; transition:transform 0.5s ease;}
#track-time{font-size:1em; font-weight:bold; margin-left:15px; color:white;}

/* PROGRESS BAR */
.progress-container{width:100%; height:10px; background:black; border-radius:5px; margin-top:10px; position:relative;}
#progress-bar{height:100%; width:0%; background:#40E0D0; border-radius:5px; transition:width 0.1s linear;}

/* MINI PLAYER */
#mini-player{
  position:fixed; bottom:0; left:0; width:100%; display:flex;
  background:rgba(0,0,0,0.8); justify-content:space-between; align-items:center; padding:8px 15px;
  box-shadow:0 -2px 10px rgba(0,0,0,0.3); z-index:1001; transition:all 0.5s ease;
}
#mini-title{font-weight:bold; font-size:1em; color:white; flex:1; overflow:hidden; white-space:nowrap; text-overflow:ellipsis;}
#mini-controls{display:flex; align-items:center; gap:5px;}
#mini-controls button{font-size:20px; width:35px; height:35px; border-radius:50%; background:#333; color:white; border:none; cursor:pointer; transition:0.3s;}
#mini-controls button:hover{background:#40E0D0;}
#mini-arrow{font-size:24px; cursor:pointer; margin-left:10px;}

/* RESPONSIVE */
@media(max-width:768px){ header h1{font-size:2em;} header p{font-size:1em;} .album-cover{width:220px;} .track{font-size:1em;} #fullscreen-title{font-size:1.5em;} }
@media(max-width:480px){ header h1{font-size:1.5em;} header p{font-size:0.9em;} .album-cover{width:180px;} .track{font-size:0.9em;} #fullscreen-title{font-size:1em;} }
</style>
</head>
<body>

<header id="header">
<h1>Dua Lipa – Radical Optimism (2024)</h1>
<p><strong>Radical Optimism</strong> je třetí studiové album britské zpěvačky Dua Lipy, vydané 3. května 2024. Obsahuje 11 skladeb a kombinuje taneční pop, disco a moderní elektroniku. Singly <em>Houdini</em>, <em>Training Season</em> a <em>Illusion</em> se staly hity.</p>
</header>

<img src="radical_optimism.jpg" alt="Cover" class="album-cover" loading="lazy">
<div class="tracklist" id="tracklist"></div>

<div id="fullscreen-player">
  <div class="video-overlay"><video id="bg-video" autoplay muted loop playsinline preload="none"></video></div>
  <span id="close-fullscreen">✖️</span>
  <div id="fullscreen-info" class="expanded">
    <div class="info-top">
      <div id="fullscreen-title"></div>
      <div class="controls">
        <button onclick="prevSong()">⏮️</button>
        <button id="play-pause-btn" onclick="togglePlay()">▶️</button>
        <button onclick="nextSong()">⏭️</button>
        <span id="track-time">0:00 / 0:00</span>
        <span id="toggle-size" onclick="toggleFullscreenSize()">⬇️</span>
      </div>
    </div>
    <div class="progress-container" id="progress-container"><div id="progress-bar"></div></div>
  </div>
  <audio id="audio" preload="none"></audio>
</div>

<div id="mini-player">
  <div id="mini-title"></div>
  <div id="mini-controls">
    <button onclick="prevSong()">⏮️</button>
    <button id="mini-play-pause" onclick="toggleMiniPlay()">▶️</button>
    <button onclick="nextSong()">⏭️</button>
    <span id="mini-arrow">⬆️</span>
    <span id="mini-time">0:00 / 0:00</span>
  </div>
</div>

<script>
const tracks=[
  {title:"End of an Era", file:"mech.mp3", length:"3:36", video:"a82x20.mp4"},
  {title:"Houdini", file:"kouzelník.mp3", length:"3:06", video:"a82xf4.mp4"},
  {title:"Training Season", file:"60m.mp3", length:"3:30", video:"a82xvv.mp4"},
  {title:"These Walls", file:"zeď.mp3", length:"3:36", video:"a82xxp.mp4"},
  {title:"Whatcha Doing", file:"Co.mp3", length:"3:08", video:"a82ywb.mp4"},
  {title:"French Exit", file:"Francosisch.mp3", length:"3:22", video:"a82yxv.mp4"},
  {title:"Illusion", file:"Iluze.mp3", length:"3:08", video:"a82zdu.mp4"},
  {title:"Falling Forever", file:"Padat.mp3", length:"3:51", video:"a82zjs.mp4"},
  {title:"Anything for Love", file:"Láska.mp3", length:"2:59", video:"a82zlw.mp4"},
  {title:"Maria", file:"Marie.mp3", length:"2:52", video:"a82zxw.mp4"},
  {title:"Happy for You", file:"Pro tebe.mp3", length:"4:09", video:"a83003.mp4"}
];

let tracklistDiv=document.getElementById("tracklist");
let fullscreenPlayer=document.getElementById("fullscreen-player");
let fullscreenTitle=document.getElementById("fullscreen-title");
let audio=document.getElementById("audio");
let bgVideo=document.getElementById("bg-video");
let playPauseBtn=document.getElementById("play-pause-btn");
let progressBar=document.getElementById("progress-bar");
let progressContainer=document.getElementById("progress-container");
let header=document.getElementById("header");
let currentTrack=0;
let progressInterval;
let miniPlayer=document.getElementById("mini-player");
let miniTitle=document.getElementById("mini-title");
let miniPlayPause=document.getElementById("mini-play-pause");
let miniArrow=document.getElementById("mini-arrow");
let miniTime=document.getElementById("mini-time");
let trackTime=document.getElementById("track-time");
let isFullscreenSmall=false;
let closeFullscreenBtn=document.getElementById("close-fullscreen");

// CREATE TRACKLIST
tracks.forEach((t,i)=>{
  let div=document.createElement("div");
  div.className="track";
  div.innerHTML=`<span class="title">${i+1}. ${t.title}</span><span class="duration">${t.length}</span>`;
  div.onclick=()=> openFullscreen(i);
  tracklistDiv.appendChild(div);
});

// FUNCTIONS
function openFullscreen(index){
  currentTrack=index;
  let t=tracks[index];
  fullscreenPlayer.style.display="flex";
  header.style.display="none";
  miniPlayer.style.display="none";
  fullscreenTitle.textContent=t.title;
  audio.src=t.file; bgVideo.src=t.video;
  audio.load(); bgVideo.load();
  audio.play(); bgVideo.play();
  playPauseBtn.textContent="⏸️"; miniPlayPause.textContent="⏸️";
  bgVideo.style.opacity="1";
  updateTime();
  clearInterval(progressInterval);
  progressInterval=setInterval(updateProgress,500);
}

function closeFullscreen(){
  fullscreenPlayer.style.display="none";
  header.style.display="block";
  miniPlayer.style.display="flex";
  audio.pause(); bgVideo.pause();
}

function togglePlay(){
  if(audio.paused){ audio.play(); bgVideo.play(); playPauseBtn.textContent="⏸️"; miniPlayPause.textContent="⏸️"; }
  else{ audio.pause(); bgVideo.pause(); playPauseBtn.textContent="▶️"; miniPlayPause.textContent="▶️"; }
}

function prevSong(){ if(currentTrack>0) openFullscreen(currentTrack-1); }
function nextSong(){ if(currentTrack<tracks.length-1) openFullscreen(currentTrack+1); }

function updateProgress(){
  if(audio.duration){
    let percent=(audio.currentTime/audio.duration)*100;
    progressBar.style.width=percent+"%";
    updateTime();
  }
}

function updateTime(){
  let cur=Math.floor(audio.currentTime); let total=Math.floor(audio.duration)||0;
  let curMin=Math.floor(cur/60), curSec=cur%60; if(curSec<10) curSec="0"+curSec;
  let totMin=Math.floor(total/60), totSec=total%60; if(totSec<10) totSec="0"+totSec;
  trackTime.textContent=`${curMin}:${curSec} / ${totMin}:${totSec}`;
  miniTime.textContent=trackTime.textContent;
}

// MINI PLAYER
function updateMini(){ miniPlayer.style.display="flex"; miniTitle.textContent=tracks[currentTrack].title; miniPlayPause.textContent=audio.paused?"▶️":"⏸️"; updateTime();}
function toggleMiniPlay(){ togglePlay(); }
miniArrow.onclick=()=>{ toggleFullscreenSize(); }

function toggleFullscreenSize(){
  const info=document.getElementById("fullscreen-info");
  if(isFullscreenSmall){
    info.classList.remove("small");
    bgVideo.style.opacity="1"; header.style.display="none"; miniPlayer.style.display="none";
    isFullscreenSmall=false;
  } else {
    info.classList.add("small");
    bgVideo.style.opacity="0"; header.style.display="block"; miniPlayer.style.display="flex";
    isFullscreenSmall=true;
  }
}

// CLOSE BUTTON
closeFullscreenBtn.onclick=()=>{ closeFullscreen(); };

// AUDIO ENDED
audio.onended=function(){ if(currentTrack<tracks.length-1) openFullscreen(currentTrack+1); else{ audio.pause(); playPauseBtn.textContent="▶️"; miniPlayPause.textContent="▶️"; progressBar.style.width="0%"; trackTime.textContent="0:00 / 0:00"; } }

// PROGRESS CLICK
progressContainer.addEventListener("click",(e)=>{
  const rect=progressContainer.getBoundingClientRect();
  audio.currentTime=((e.clientX-rect.left)/rect.width)*audio.duration;
  updateProgress();
});
</script>
</body>
</html>
