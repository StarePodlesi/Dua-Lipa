<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<title>Dua Lipa – Radical Optimism</title>
<style>
body { margin:0; font-family:Arial,sans-serif; background:black; color:white; }
header { text-align:center; padding:20px; background:rgba(0,0,0,0.7);}
header h1 { color:#1db954; margin:0; }
header p { max-width:700px; margin:10px auto; line-height:1.5em;}
.album-cover { display:block; margin:20px auto; width:250px; border-radius:16px; box-shadow:0 0 20px rgba(0,0,0,0.8);}
.tracklist { max-width:700px; margin:20px auto; padding:20px; background:rgba(0,0,0,0.6); border-radius:20px; }
.track { display:flex; justify-content:space-between; padding:10px; border-bottom:1px solid #444; cursor:pointer;}
.track:hover { background: rgba(29,185,84,0.2);}
#fullscreen-player { position:fixed; top:0; left:0; width:100%; height:100%; display:none; justify-content:center; align-items:center; background:rgba(0,0,0,0.95); z-index:999; flex-direction:column;}
#fullscreen-player img#fullscreen-cover { width:300px; border-radius:16px; margin-bottom:15px; z-index:1; position:relative;}
#fullscreen-player .song-title { font-size:1.5em; margin-bottom:10px; z-index:1; position:relative; }
.controls { margin-top:20px; z-index:1; position:relative;}
.controls button { font-size:28px; margin:0 15px; cursor:pointer; }
.close-btn { position:absolute; top:20px; right:20px; font-size:24px; cursor:pointer; z-index:1; }
.player-container { position:relative; width:100%; height:400px; overflow:hidden; }
.gif-overlay { position:absolute; top:0; left:0; width:100%; height:100%; z-index:0; }
.gif-overlay img { width:100%; height:100%; object-fit:cover; opacity:0.5; }
audio { display:none; }
.progress-container { width:80%; background:#555; height:10px; border-radius:5px; margin:10px auto; position:relative; z-index:1; }
#progress-bar { width:0%; height:100%; background:#1db954; border-radius:5px; }
#time-display { text-align:center; margin-bottom:10px; z-index:1; position:relative; }
</style>
</head>
<body>

<header>
<h1>Dua Lipa – Radical Optimism (2024)</h1>
<p><strong>Radical Optimism</strong> je třetí studiové album britské zpěvačky Dua Lipy, vydané 3. května 2024. Obsahuje 11 skladeb a kombinuje taneční pop, disco a moderní elektroniku. Singly <em>Houdini</em>, <em>Training Season</em> a <em>Illusion</em> se staly hity. Album reflektuje radikální optimismus a hledání radosti i v těžkých časech.</p>
</header>

<img src="radical_optimism.jpg" alt="Cover" class="album-cover">

<div class="tracklist" id="tracklist"></div>

<div id="fullscreen-player">
  <div class="player-container">
    <div class="gif-overlay">
      <img src="a82rl9.gif" alt="GIF pozadí">
    </div>
  </div>
  <span class="close-btn" onclick="closeFullscreen()">✖</span>
  <img src="radical_optimism.jpg" alt="Cover" id="fullscreen-cover">
  <div class="song-title" id="fullscreen-title"></div>
  
  <audio id="audio"></audio>
  
  <div class="progress-container">
    <div id="progress-bar"></div>
  </div>
  <div id="time-display">
    <span id="current-time">0:00</span> / <span id="total-time">0:00</span>
  </div>

  <div class="controls">
    <button onclick="prevSong()">⏮️</button>
    <button id="play-pause-btn" onclick="togglePlay()">▶️</button>
    <button onclick="nextSong()">⏭️</button>
  </div>
</div>

<script>
const tracks = [
  {title:"End of an Era", file:"mech.mp3", length:"3:36", gif:"gif1.gif"},
  {title:"Houdini", file:"Kouzelník.mp3", length:"3:06", gif:"gif2.gif"},
  {title:"Training Season", file:"60m.mp3", length:"3:30", gif:"gif3.gif"},
  {title:"These Walls", file:"Zeď.mp3", length:"3:36", gif:"gif4.gif"},
  {title:"Whatcha Doing", file:"Co.mp3", length:"3:08", gif:"gif5.gif"},
  {title:"French Exit", file:"Francosisch.mp3", length:"3:22", gif:"gif6.gif"},
  {title:"Illusion", file:"Iluze.mp3", length:"3:08", gif:"gif7.gif"},
  {title:"Falling Forever", file:"Padat.mp3", length:"3:51", gif:"gif8.gif"},
  {title:"Anything for Love", file:"Láska.mp3", length:"2:59", gif:"gif9.gif"},
  {title:"Maria", file:"Marie.mp3", length:"2:52", gif:"gif10.gif"},
  {title:"Happy for You", file:"Pro tebe.mp3", length:"4:09", gif:"gif11.gif"}
];

let tracklistDiv = document.getElementById("tracklist");
let fullscreenPlayer = document.getElementById("fullscreen-player");
let fullscreenTitle = document.getElementById("fullscreen-title");
let audio = document.getElementById("audio");
let playPauseBtn = document.getElementById("play-pause-btn");
let progressBar = document.getElementById("progress-bar");
let currentTimeDisplay = document.getElementById("current-time");
let totalTimeDisplay = document.getElementById("total-time");
let currentTrack = 0;
let progressInterval;

// Vytvoření seznamu skladeb
tracks.forEach((t,i)=>{
  let div = document.createElement("div");
  div.className="track";
  div.innerHTML=`<span class="title">${i+1}. ${t.title}</span><span class="duration">${t.length}</span>`;
  div.onclick = ()=> openFullscreen(i);
  tracklistDiv.appendChild(div);
});

// Otevření fullscreen a spuštění skladby s GIF
function openFullscreen(index){
  currentTrack = index;
  let t = tracks[index];
  fullscreenPlayer.style.display="flex";
  fullscreenTitle.textContent = t.title;
  audio.src = t.file;
  audio.play();
  playPauseBtn.textContent="⏸️";

  // Změna GIF podle skladby
  document.querySelector(".gif-overlay img").src = t.gif;

  audio.onloadedmetadata = ()=>{
    totalTimeDisplay.textContent = formatTime(audio.duration);
  }

  clearInterval(progressInterval);
  progressInterval = setInterval(updateProgress, 500);
}

// Automatický přechod na další skladbu
audio.onended = function(){
  if(currentTrack < tracks.length-1){
    openFullscreen(currentTrack+1);
  } else {
    audio.pause();
    playPauseBtn.textContent="▶️";
    progressBar.style.width = "0%";
    currentTimeDisplay.textContent = "0:00";
  }
};

// Zavření fullscreen
function closeFullscreen(){
  fullscreenPlayer.style.display="none";
  audio.pause();
  clearInterval(progressInterval);
}

// Play/Pause
function togglePlay(){
  if(audio.paused){
    audio.play();
    playPauseBtn.textContent="⏸️";
  } else {
    audio.pause();
    playPauseBtn.textContent="▶️";
  }
}

// Next / Prev
function prevSong(){ if(currentTrack>0) openFullscreen(currentTrack-1); }
function nextSong(){ if(currentTrack<tracks.length-1) openFullscreen(currentTrack+1); }

// Aktualizace progresu
function updateProgress(){
  if(audio.duration){
    let percent = (audio.currentTime / audio.duration) * 100;
    progressBar.style.width = percent + "%";
    currentTimeDisplay.textContent = formatTime(audio.currentTime);
  }
}

function formatTime(seconds){
  let m = Math.floor(seconds/60);
  let s = Math.floor(seconds%60);
  if(s<10) s="0"+s;
  return m+":"+s;
}
</script>
</body>
</html>
