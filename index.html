<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Dua Lipa — Radical Optimism (Player)</title>
<link rel="icon" href="radical_optimism.jpg" type="image/x-icon">
<style>
/* ================= RESET & BASE ================= */
*{box-sizing:border-box;margin:0;padding:0;}
html,body{height:100%;font-family:"Inter","Arial",sans-serif;overflow-x:hidden;background:#fff;}
body{background:linear-gradient(180deg,#40E0D0,#ffffff);color:#111;}

/* ================= HEADER / INTRO ================= */
#intro{
  position:relative;display:flex;align-items:center;justify-content:center;
  flex-direction:column;text-align:center;padding:40px 20px;transition:all .5s ease;
}
#intro-content{max-width:900px;display:flex;align-items:center;gap:24px;flex-wrap:wrap;}
#intro-left{text-align:left;flex:1;min-width:280px;}
#intro-left h1{font-size:2rem;font-weight:900;margin-bottom:12px;}
#intro-left p{font-size:1rem;line-height:1.5;color:#111;opacity:.95;}
#intro-right img{width:240px;border-radius:16px;box-shadow:0 12px 36px rgba(0,0,0,.2);}
#intro-toggle{margin-top:24px;cursor:pointer;font-size:2rem;color:#40E0D0;transition:transform .3s;}
#intro-toggle:hover{transform:scale(1.2);}

/* ================= TRACKLIST ================= */
#tracklist{max-width:980px;margin:20px auto;padding:18px;background:rgba(255,255,255,.8);border-radius:14px;box-shadow:0 8px 24px rgba(0,0,0,.1);}
.track{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;border-radius:10px;cursor:pointer;transition:all .2s; background:rgba(255,255,255,.4);}
.track:hover{background:rgba(64,224,208,.2);transform:translateY(-2px);}
.track .left{display:flex;gap:12px;align-items:center;}
.track .num{width:30px;text-align:center;color:#666;font-weight:700;}
.track .title{font-weight:800;color:#111;}
.track .duration{color:#666;font-weight:600;}

/* ================= FULLSCREEN PLAYER ================= */
#fullscreen-player{position:fixed;inset:0;display:none;flex-direction:column;justify-content:flex-end;z-index:1400;background:#000;}
#fullscreen-video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;opacity:0.3;}
#fs-info{position:relative;z-index:2;background:linear-gradient(to top,#40E0D0,#fff);padding:36px 30px;border-top-left-radius:18px;border-top-right-radius:18px;box-shadow:0 -18px 60px rgba(0,0,0,.25);transition:all .36s;}
#fs-title{font-size:1.9rem;font-weight:900;color:#000;margin-bottom:12px;}
#fs-controls{display:flex;align-items:center;justify-content:space-between;}
#fs-controls button{width:52px;height:52px;border-radius:50%;border:0;background:#222;color:#fff;font-size:20px;cursor:pointer;box-shadow:0 8px 30px rgba(0,0,0,.2);transition:all .16s;}
#fs-controls button:hover{background:#40E0D0;transform:scale(1.05);}
#fs-time{font-weight:800;color:#000;min-width:160px;text-align:right;}
#fs-progress{width:100%;height:12px;background:#000;border-radius:10px;margin-top:12px;overflow:hidden;cursor:pointer;}
#fs-fill{height:100%;width:0%;background:#40E0D0;transition:width .05s linear;}

/* ================= MINI PLAYER ================= */
#mini-player{position:fixed;left:12px;right:12px;bottom:12px;z-index:1500;background:linear-gradient(90deg,#40E0D0,#ffffff);padding:12px;border-radius:12px;box-shadow:0 12px 36px rgba(0,0,0,.22);display:flex;align-items:center;justify-content:space-between;gap:14px;display:none;}
.mini-left{display:flex;align-items:center;gap:12px;}
.mini-cover{width:66px;height:66px;border-radius:8px;object-fit:cover;box-shadow:0 8px 24px rgba(0,0,0,.18);}
.mini-meta{overflow:hidden;}
.mini-title{font-weight:800;color:#000;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.mini-desc{font-size:.9rem;color:#111;opacity:.95;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.mini-controls{display:flex;align-items:center;gap:8px;}
.mini-controls button{width:40px;height:40px;border-radius:50%;border:0;background:#222;color:#fff;font-size:18px;cursor:pointer;}
#mini-time{font-weight:800;color:#111;min-width:100px;text-align:right;}
</style>
</head>
<body>

<!-- ================= INTRO ================= -->
<div id="intro">
  <div id="intro-content">
    <div id="intro-left">
      <h1>Dua Lipa — Radical Optimism (2024)</h1>
      <p>Dua Lipa je britská zpěvačka a autorka písní. Album <strong>Radical Optimism</strong> kombinuje taneční pop, disco a moderní elektroniku. Zde najdeš kompletní seznam skladeb a interaktivní přehrávač — klikni na šipku a otevři přehrávač.</p>
    </div>
    <div id="intro-right">
      <img src="Dua_Lipa.jpg" alt="Dua Lipa">
    </div>
  </div>
  <div id="intro-toggle">⬇</div>
</div>

<!-- ================= TRACKLIST ================= -->
<div id="tracklist" aria-label="Seznam skladeb"></div>

<!-- ================= FULLSCREEN PLAYER ================= -->
<div id="fullscreen-player">
  <video id="fullscreen-video" autoplay muted loop></video>
  <div id="fs-info">
    <div id="fs-title">—</div>
    <div id="fs-controls">
      <button id="prev">⏮</button>
      <button id="play">▶</button>
      <button id="next">⏭</button>
      <div id="fs-time">0:00 / 0:00</div>
    </div>
    <div id="fs-progress"><div id="fs-fill"></div></div>
  </div>
</div>

<!-- ================= MINI PLAYER ================= -->
<div id="mini-player">
  <div class="mini-left">
    <img id="mini-cover" class="mini-cover" src="radical_optimism.jpg" alt="cover">
    <div class="mini-meta">
      <div id="mini-title" class="mini-title">—</div>
      <div id="mini-desc" class="mini-desc">Radical Optimism — Dua Lipa</div>
    </div>
  </div>
  <div class="mini-controls">
    <button id="mini-prev">⏮</button>
    <button id="mini-play">▶</button>
    <button id="mini-next">⏭</button>
    <div id="mini-time">0:00 / 0:00</div>
  </div>
</div>

<audio id="audio"></audio>

<script>
// ================= PLAYLIST =================
const tracks=[
  {num:1,title:"End of an Era",mp3:"mech.mp3",mp4:"a82x20.mp4",duration:"3:35"},
  {num:2,title:"Houdini",mp3:"kouzelník.mp3",mp4:"a82xf4.mp4",duration:"2:58"},
  {num:3,title:"Training Season",mp3:"60m.mp3",mp4:"a82xvv.mp4",duration:"3:12"},
  {num:4,title:"These Walls",mp3:"zeď.mp3",mp4:"a82xxp.mp4",duration:"3:21"},
  {num:5,title:"Whatcha Doing",mp3:"Co.mp3",mp4:"a82ywb.mp4",duration:"2:46"},
  {num:6,title:"French Exit",mp3:"Francosisch.mp3",mp4:"a82yxv.mp4",duration:"3:05"},
  {num:7,title:"Illusion",mp3:"Iluze.mp3",mp4:"a82zdu.mp4",duration:"3:19"},
  {num:8,title:"Falling Forever",mp3:"Padat.mp3",mp4:"a82zjs.mp4",duration:"3:29"},
  {num:9,title:"Anything for Love",mp3:"Láska.mp3",mp4:"a82zlw.mp4",duration:"3:33"},
  {num:10,title:"Maria",mp3:"Marie.mp3",mp4:"a82zxw.mp4",duration:"3:02"},
  {num:11,title:"Happy for You",mp3:"Pro tebe.mp3",mp4:"a83003.mp4",duration:"3:16"}
];

const tracklistEl=document.getElementById('tracklist');
const intro=document.getElementById('intro');
const introToggle=document.getElementById('intro-toggle');
const fullscreen=document.getElementById('fullscreen-player');
const fsVideo=document.getElementById('fullscreen-video');
const fsTitle=document.getElementById('fs-title');
const playBtn=document.getElementById('play');
const prevBtn=document.getElementById('prev');
const nextBtn=document.getElementById('next');
const fsTime=document.getElementById('fs-time');
const fsFill=document.getElementById('fs-fill');

const mini=document.getElementById('mini-player');
const miniCover=document.getElementById('mini-cover');
const miniTitle=document.getElementById('mini-title');
const miniDesc=document.getElementById('mini-desc');
const miniPlay=document.getElementById('mini-play');
const miniPrev=document.getElementById('mini-prev');
const miniNext=document.getElementById('mini-next');
const miniTime=document.getElementById('mini-time');

const audio=document.getElementById('audio');

let current=null;
let timer=null;

// ================= BUILD TRACKLIST =================
tracks.forEach(t=>{
  const row=document.createElement('div');
  row.className='track';
  row.innerHTML=`<div class="left"><div class="num">${t.num}</div><div class="title">${t.title}</div></div><div class="duration">${t.duration}</div>`;
  row.addEventListener('click',()=>playTrack(t.num-1));
  tracklistEl.appendChild(row);
});

// ================= INTRO TOGGLE =================
introToggle.addEventListener('click',()=>{
  intro.style.height='80px';
  intro.style.padding='12px 20px';
  intro.style.flexDirection='row';
  introToggle.style.display='none';
  fullscreen.style.display='flex';
  mini.style.display='flex';
});

// ================= PLAYER FUNCTIONS =================
function playTrack(index){
  current=index;
  const t=tracks[current];
  audio.src=t.mp3;
  fsVideo.src=t.mp4;
  fsTitle.textContent=t.title;
  miniTitle.textContent=t.title;
  miniCover.src='radical_optimism.jpg';
  audio.play();
  playBtn.textContent='⏸';
  miniPlay.textContent='⏸';
}

function updateTime(){
  const cur=audio.currentTime;
  const dur=audio.duration||1;
  const minutes=Math.floor(cur/60);
  const seconds=Math.floor(cur%60).toString().padStart(2,'0');
  const totalMinutes=Math.floor(dur/60);
  const totalSeconds=Math.floor(dur%60).toString().padStart(2,'0');
  fsTime.textContent=`${minutes}:${seconds} / ${totalMinutes}:${totalSeconds}`;
  miniTime.textContent=fsTime.textContent;
  fsFill.style.width=`${(cur/dur)*100}%`;
}

audio.addEventListener('timeupdate',updateTime);
audio.addEventListener('ended',()=>{nextTrack();});

function togglePlay(){
  if(audio.paused){audio.play();playBtn.textContent='⏸';miniPlay.textContent='⏸';}
  else{audio.pause();playBtn.textContent='▶';miniPlay.textContent='▶';}
}

function nextTrack(){playTrack((current+1)%tracks.length);}
function prevTrack(){playTrack((current-1+tracks.length)%tracks.length);}

// ================= BUTTONS =================
playBtn.addEventListener('click',togglePlay);
miniPlay.addEventListener('click',togglePlay);
nextBtn.addEventListener('click',nextTrack);
miniNext.addEventListener('click',nextTrack);
prevBtn.addEventListener('click',prevTrack);
miniPrev.addEventListener('click',prevTrack);

// ================= PROGRESS BAR =================
const fsProgress=document.getElementById('fs-progress');
fsProgress.addEventListener('click',(e)=>{
  const rect=fsProgress.getBoundingClientRect();
  const pct=(e.clientX-rect.left)/rect.width;
  audio.currentTime=audio.duration*pct;
});

</script>
</body>
</html>
